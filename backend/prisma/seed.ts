import { PrismaClient } from '@prisma/client';
import * as bcrypt from 'bcrypt';

const prisma = new PrismaClient();

async function main() {
  console.log('ðŸŒ± Starting seed...');

  // ê¸°ì¡´ ë°ì´í„° ì‚­ì œ (ê°œë°œ í™˜ê²½ì—ì„œë§Œ)
  await prisma.jobPosting.deleteMany();
  await prisma.verification.deleteMany();
  await prisma.user.deleteMany();

  console.log('âœ… Cleared existing data');

  // í…ŒìŠ¤íŠ¸ ì‚¬ìš©ìž ìƒì„±
  const hashedPassword = await bcrypt.hash('Test1234!', 10);

  const user1 = await prisma.user.create({
    data: {
      email: 'test@example.com',
      password: hashedPassword,
      phoneNumber: '01012345678',
      emailVerified: true,
      phoneVerified: true,
      termsAgreedAt: new Date(),
      marketingAgreement: false,
    },
  });

  const user2 = await prisma.user.create({
    data: {
      email: 'demo@jobmoa.com',
      password: hashedPassword,
      phoneNumber: '01087654321',
      emailVerified: true,
      phoneVerified: true,
      termsAgreedAt: new Date(),
      marketingAgreement: true,
    },
  });

  console.log('âœ… Created test users:', {
    user1: user1.email,
    user2: user2.email,
  });

  // ì±„ìš© ê³µê³  ëª©ì—… ë°ì´í„° ìƒì„±
    const jobPosting1 = await prisma.jobPosting.create({
        data: {
            userId: user1.id, // user1 ë˜ëŠ” ë‹¤ë¥¸ ìœ ì € ID
            title: '[ì±„ìš©ì—°ê³„í˜•] ì„œë¹„ìŠ¤ ê¸°íš ì¸í„´ ëª¨ì§‘',
            companyName: '(ì£¼)ìŠ¤íƒ€íŠ¸ì—…ìº í”„',
            jobType: 'ê¸°íš/PM',
            position: 'ì„œë¹„ìŠ¤ ê¸°íšìž (ì¸í„´)',
            careerLevel: 'ì‹ ìž…/ì¸í„´ (ê²½ë ¥ ë¬´ê´€)',
            employmentType: 'ì¸í„´ (3ê°œì›” ê·¼ë¬´ í›„ ì •ê·œì§ ì „í™˜ ê²€í† )',
            salaryRange: 'ì›” 250ë§Œì› (ì¸í„´ ê¸‰ì—¬)',
            workLocation: 'ì„œìš¸ ì„œì´ˆêµ¬ (ê°•ë‚¨ì—­)',
            companyIntro: 'ìŠ¤íƒ€íŠ¸ì—…ìº í”„ëŠ” ì°¨ì„¸ëŒ€ ìœ ë‹ˆì½˜ì„ ê¿ˆê¾¸ëŠ” ì´ˆê¸° ìŠ¤íƒ€íŠ¸ì—…ì„ ìœ„í•œ ì•¡ì…€ëŸ¬ë ˆì´í„°ìž…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ì‚°ì—…ì˜ ì„±ìž¥ì„ ë•ëŠ” í”Œëž«í¼ì„ ìš´ì˜í•©ë‹ˆë‹¤.',
            companyCulture: `[ì£¼ìš” ì—…ë¬´]
- ì‹ ê·œ ì„œë¹„ìŠ¤ ì•„ì´í…œ ë°œêµ´ ë° ì‹œìž¥ ì¡°ì‚¬
- ì„œë¹„ìŠ¤ ì •ì±… ìˆ˜ë¦½ ë° ê¸°ëŠ¥ ëª…ì„¸ì„œ(IA) ìž‘ì„±
- ìŠ¤í† ë¦¬ë³´ë“œ(í™”ë©´ ì„¤ê³„) ìž‘ì„±
- ê°œë°œ/ë””ìžì¸íŒ€ê³¼ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë° ì¼ì • ì¡°ìœ¨ ë³´ì¡°

[ìžê²© ìš”ê±´]
- 4ë…„ì œ ëŒ€í•™ ì¡¸ì—…(ì˜ˆì •)ìž
- IT ì„œë¹„ìŠ¤ ë° ìŠ¤íƒ€íŠ¸ì—… ìƒíƒœê³„ì— ëŒ€í•œ ë†’ì€ ê´€ì‹¬
- ë…¼ë¦¬ì ì¸ ì‚¬ê³ ì™€ ì›í™œí•œ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ëŠ¥ë ¥
- MS Office (PPT, Excel) í™œìš© ëŠ¥ë ¥ ìš°ìˆ˜

[ìš°ëŒ€ ì‚¬í•­]
- ê¸°íš ê´€ë ¨ ê³µëª¨ì „ ìˆ˜ìƒ ë˜ëŠ” ë™ì•„ë¦¬ í™œë™ ê²½í—˜
- Figma, Sketch ë“± ì™€ì´ì–´í”„ë ˆìž„ íˆ´ ì‚¬ìš© ê²½í—˜
- ê°œë°œ/ë””ìžì¸ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì´í•´`,
            benefits: `[ë³µë¦¬í›„ìƒ (ì¸í„´)]
- 4ëŒ€ ë³´í—˜ ê°€ìž…
- ì¤‘ì‹ ì œê³µ ë° ë¬´ì œí•œ ìŠ¤ë‚µë°” ìš´ì˜
- í˜„ì—… ì‹¤ë¬´ì§„ì˜ ì²´ê³„ì ì¸ 1:1 ë©˜í† ë§
- ì¸í„´ ê¸°ê°„ ìˆ˜ë£Œì¦ ë°œê¸‰
- ì •ê·œì§ ì „í™˜ ì‹œ ìŠ¤í†¡ì˜µì…˜ ë¶€ì—¬ ê¸°íšŒ`,
            status: 'published', // 'published' (ê²Œì‹œë¨) ë˜ëŠ” 'draft' (ìž„ì‹œì €ìž¥)
        },
    });

  const jobPosting2 = await prisma.jobPosting.create({
    data: {
      userId: user1.id,
      title: 'ë°±ì—”ë“œ ê°œë°œìž (Node.js) ëª¨ì§‘',
      companyName: '(ì£¼)í…Œí¬ìŠ¤íƒ€íŠ¸',
      jobType: 'IT/ì†Œí”„íŠ¸ì›¨ì–´',
      position: 'ë°±ì—”ë“œ ê°œë°œìž',
        careerLevel: 'ê²½ë ¥ 3ë…„ ì´ìƒ',
        employmentType: 'ì •ê·œì§',
        salaryRange: 'ì—°ë´‰ 4,500~7,000ë§Œì›',
        workLocation: 'ì„œìš¸ ê°•ë‚¨êµ¬',
        companyIntro: `í…Œí¬ìŠ¤íƒ€íŠ¸ëŠ” í˜ì‹ ì ì¸ ê¸°ìˆ ë¡œ ì„¸ìƒì„ ë³€í™”ì‹œí‚¤ëŠ” IT ê¸°ì—…ìž…ë‹ˆë‹¤.
        ê¸°ìˆ  ì¤‘ì‹¬ì˜ ë¬¸í™”, ëŠìž„ì—†ëŠ” í•™ìŠµê³¼ ì„±ìž¥ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.`,
        companyCulture: `í™•ìž¥ ê°€ëŠ¥í•œ ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ê³  êµ¬í˜„í•  ë°±ì—”ë“œ ê°œë°œìžë¥¼ ì°¾ìŠµë‹ˆë‹¤.

[ì£¼ìš” ì—…ë¬´]
- Node.js/NestJS ê¸°ë°˜ API ì„œë²„ ê°œë°œ
- ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ë° ìµœì í™”
- AWS ê¸°ë°˜ í´ë¼ìš°ë“œ ì¸í”„ë¼ ê´€ë¦¬
- RESTful API ì„¤ê³„ ë° êµ¬í˜„
        [ìžê²© ìš”ê±´]
- Node.js ì‹¤ë¬´ ê²½í—˜ 3ë…„ ì´ìƒ
- RDBMS (PostgreSQL, MySQL) ì‚¬ìš© ê²½í—˜
- RESTful API ì„¤ê³„ ë° ê°œë°œ ê²½í—˜
- Git ë²„ì „ ê´€ë¦¬ ëŠ¥ìˆ™

[ìš°ëŒ€ ì‚¬í•­]
- NestJS í”„ë ˆìž„ì›Œí¬ ê²½í—˜
- TypeScript ì‚¬ìš© ê²½í—˜
- AWS ì„œë¹„ìŠ¤ (EC2, RDS, S3 ë“±) ê²½í—˜
- Docker, Kubernetes ì‚¬ìš© ê²½í—˜
- ëŒ€ìš©ëŸ‰ íŠ¸ëž˜í”½ ì²˜ë¦¬ ê²½í—˜`,
      benefits: `[ë³µë¦¬í›„ìƒ]
- 4ëŒ€ ë³´í—˜ ê°€ìž…
- ì ì‹¬/ì €ë… ì‹ëŒ€ ì§€ì›
- ìžê¸°ê³„ë°œë¹„ ì§€ì› (ì—° 150ë§Œì›)
- ìµœì‹  ê°œë°œ ìž¥ë¹„ ì œê³µ
- ìž¬íƒê·¼ë¬´ ê°€ëŠ¥
- ë„ì„œ êµ¬ìž…ë¹„ ì§€ì›
- ê±´ê°•ê²€ì§„ ì§€ì›`,
      status: 'draft',
    },
  });

    const jobPosting3 = await prisma.jobPosting.create({
        data: {
            userId: user1.id, // user1 ë˜ëŠ” ë‹¤ë¥¸ ìœ ì € ID
            title: 'React í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìž ì±„ìš© (ì‹ ìž…/ê²½ë ¥)',
            companyName: '(ì£¼)ì›¹í”„ë¡ í‹°ì–´',
            jobType: 'IT/ì›¹ê°œë°œ',
            position: 'í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìž',
            careerLevel: 'ì‹ ìž…/ê²½ë ¥ 1ë…„ ì´ìƒ',
            employmentType: 'ì •ê·œì§ (ìˆ˜ìŠµ 3ê°œì›”)',
            salaryRange: 'ì—°ë´‰ 3,500~5,000ë§Œì›',
            workLocation: 'ì„œìš¸ ë§ˆí¬êµ¬ (í™ëŒ€ìž…êµ¬ì—­)',
            companyIntro: 'ì›¹í”„ë¡ í‹°ì–´ëŠ” ì‚¬ìš©ìž ê²½í—˜(UX)ì„ ìµœìš°ì„ ìœ¼ë¡œ ìƒê°í•˜ëŠ” ë””ìžì¸ ì¤‘ì‹¬ì˜ IT ê¸°ì—…ìž…ë‹ˆë‹¤. ìžìœ ë¡œìš´ ë¶„ìœ„ê¸°ì—ì„œ í•¨ê»˜ ì„±ìž¥í•  ë™ë£Œë¥¼ ì°¾ìŠµë‹ˆë‹¤.',
            companyCulture: `[ì£¼ìš” ì—…ë¬´]
- React, Next.js ê¸°ë°˜ ì›¹ ì„œë¹„ìŠ¤ ê°œë°œ ë° ìš´ì˜
- UI/UX ë””ìžì´ë„ˆì™€ì˜ í˜‘ì—…ì„ í†µí•œ í™”ë©´ êµ¬í˜„
- ì›¹ í‘œì¤€ ë° ì ‘ê·¼ì„±ì„ ì¤€ìˆ˜í•œ ì‹œë§¨í‹± ë§ˆí¬ì—…
- ì½”ë“œ ë¦¬ë·° ë° ì›¹ ì„±ëŠ¥ ìµœì í™”

[ìžê²© ìš”ê±´]
- React, JavaScript(ES6+), TypeScriptì— ëŒ€í•œ ì´í•´
- HTML/CSSì— ëŒ€í•œ ê¹Šì€ ì´í•´
- Gitì„ ì´ìš©í•œ ë²„ì „ ê´€ë¦¬ ê²½í—˜
- ìƒˆë¡œìš´ ê¸°ìˆ  í•™ìŠµì— ëŒ€í•œ ì—´ì •

[ìš°ëŒ€ ì‚¬í•­]
- Next.js ë˜ëŠ” SSR ê²½í—˜
- Storybook ë“± UI í…ŒìŠ¤íŠ¸ ë„êµ¬ ê²½í—˜
- ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Recoil, Zustand) ì‚¬ìš© ê²½í—˜
- ë°±ì—”ë“œ API ì—°ë™ ê²½í—˜`,
            benefits: `[ë³µë¦¬í›„ìƒ]
- ìœ ì—°ê·¼ë¬´ì œ (9ì‹œ~11ì‹œ ìžìœ¨ ì¶œê·¼)
- ì¤‘ì‹ ì‹ëŒ€ ì œê³µ
- ë¬´ì œí•œ ê°„ì‹ ë° ì»¤í”¼ ì œê³µ
- ì—°ì°¨ ì™¸ ë¦¬í”„ë ˆì‹œ íœ´ê°€ (ì—° 3ì¼)
- ìƒì¼ ë‹¹ì¼ ìœ ê¸‰ íœ´ê°€ ë° ìƒí’ˆê¶Œ
- ì‚¬ë‚´ ìŠ¤í„°ë”” ë° ë™í˜¸íšŒ ì§€ì›`,
            status: 'published',
        },
    });

    const jobPosting4 = await prisma.jobPosting.create({
        data: {
            userId: user2.id, // user2 ë˜ëŠ” ë‹¤ë¥¸ ìœ ì € ID
            title: '[ê²½ë ¥] í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€í„° ëª¨ì§‘',
            companyName: '(ì£¼)ê·¸ë¡œìŠ¤í•´ì»¤ìŠ¤',
            jobType: 'ë§ˆì¼€íŒ…/ê´‘ê³ ',
            position: 'í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€í„°',
            careerLevel: 'ê²½ë ¥ 2ë…„ ì´ìƒ',
            employmentType: 'ì •ê·œì§',
            salaryRange: 'ì—°ë´‰ 4,000~6,000ë§Œì›',
            workLocation: 'ê²½ê¸° ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ (íŒêµì—­)',
            companyIntro: 'ê·¸ë¡œìŠ¤í•´ì»¤ìŠ¤ëŠ” ë°ì´í„° ê¸°ë°˜ì˜ ë§ˆì¼€íŒ… ì „ëžµì„ í†µí•´ ê³ ê°ì‚¬ì˜ í­ë°œì ì¸ ì„±ìž¥ì„ ë•ëŠ” ì „ë¬¸ ì—ì´ì „ì‹œìž…ë‹ˆë‹¤.',
            companyCulture: `[ì£¼ìš” ì—…ë¬´]
- ê²€ìƒ‰ ê´‘ê³ (SA) ë° ë””ìŠ¤í”Œë ˆì´ ê´‘ê³ (DA) ìš´ì˜
- íŽ˜ì´ìŠ¤ë¶, êµ¬ê¸€, ë„¤ì´ë²„ ë“± ì£¼ìš” ë§¤ì²´ ê´‘ê³  íš¨ìœ¨ ë¶„ì„ ë° ìµœì í™”
- A/B í…ŒìŠ¤íŠ¸ ê¸°íš ë° ì‹¤í–‰, ëžœë”© íŽ˜ì´ì§€ ìµœì í™” (LPO)
- ë§ˆì¼€íŒ… ì„±ê³¼ ë°ì´í„° ë¶„ì„ ë° ë¦¬í¬íŒ…

[ìžê²© ìš”ê±´]
- í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€íŒ… ì‹¤ë¬´ ê²½ë ¥ 2ë…„ ì´ìƒ
- GA, GTM ë“± ë°ì´í„° ë¶„ì„ íˆ´ í™œìš© ëŠ¥ë ¥
- ë°ì´í„°ì— ê¸°ë°˜í•œ ë…¼ë¦¬ì  ì‚¬ê³  ë° ë¬¸ì œ í•´ê²° ëŠ¥ë ¥
- ì£¼ë„ì ì¸ ì—…ë¬´ ìˆ˜í–‰ ëŠ¥ë ¥

[ìš°ëŒ€ ì‚¬í•­]
- ìŠ¤íƒ€íŠ¸ì—… ë˜ëŠ” ê´‘ê³  ì—ì´ì „ì‹œ ê·¼ë¬´ ê²½í—˜
- SQL í™œìš© ëŠ¥ë ¥
- CRM ë§ˆì¼€íŒ… ë˜ëŠ” ê·¸ë¡œìŠ¤ í•´í‚¹ ê²½í—˜`,
            benefits: `[ë³µë¦¬í›„ìƒ]
- ë¶„ê¸°ë³„ ì„±ê³¼ ê¸°ë°˜ ì¸ì„¼í‹°ë¸Œ ì§€ê¸‰
- ë§ˆì¼€íŒ… ê´€ë ¨ êµìœ¡/ì„¸ë¯¸ë‚˜ë¹„ ì „ì•¡ ì§€ì›
- ìžìœ ë¡œìš´ ì—°ì°¨ ì‚¬ìš© (ë°˜ë°˜ì°¨ ê°€ëŠ¥)
- í†µì‹ ë¹„ ì§€ì›
- ë„ì„œ êµ¬ìž…ë¹„ ë¬´ì œí•œ ì§€ì›
- ì‚¬ë‚´ ì¹´íŽ˜í…Œë¦¬ì•„ ìš´ì˜`,
            status: 'published',
        },
    });

    const jobPosting5 = await prisma.jobPosting.create({
        data: {
            userId: user1.id, // user1 ë˜ëŠ” ë‹¤ë¥¸ ìœ ì € ID
            title: '[ê²½ë ¥] ëª¨ë°”ì¼ ì•± UI/UX ë””ìžì´ë„ˆ ì±„ìš©',
            companyName: '(ì£¼)í¬ë¦¬ì—ì´í‹°ë¸Œ ìŠ¤íŠœë””ì˜¤',
            jobType: 'ë””ìžì¸',
            position: 'UI/UX ë””ìžì´ë„ˆ',
            careerLevel: 'ê²½ë ¥ 5ë…„ ì´ìƒ',
            employmentType: 'ì •ê·œì§',
            salaryRange: 'ë©´ì ‘ í›„ í˜‘ì˜',
            workLocation: 'ì„œìš¸ ì„±ë™êµ¬ (ì„±ìˆ˜ë™)',
            companyIntro: 'ì €í¬ëŠ” ê°ê°ì ì¸ ë””ìžì¸ê³¼ ì‚¬ìš©ìž íŽ¸ì˜ì„±ì„ ë™ì‹œì— ì¶”êµ¬í•˜ëŠ” ë””ìžì¸ ì „ë¬¸ ìŠ¤íŠœë””ì˜¤ìž…ë‹ˆë‹¤. ìµœê³ ì˜ ë™ë£Œë“¤ê³¼ í•¨ê»˜ ë©‹ì§„ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ê°ˆ ë””ìžì´ë„ˆë¥¼ ì°¾ìŠµë‹ˆë‹¤.',
            companyCulture: `[ì£¼ìš” ì—…ë¬´]
- ëª¨ë°”ì¼ ì•±/ì›¹ ì„œë¹„ìŠ¤ì˜ UI/UX ì„¤ê³„
- ì‚¬ìš©ìž ë¦¬ì„œì¹˜, íŽ˜ë¥´ì†Œë‚˜ ì •ì˜, ìœ ì € ì €ë‹ˆë§µ ìž‘ì„±
- ì™€ì´ì–´í”„ë ˆìž„ ë° í”„ë¡œí† íƒ€ì´í•‘ (Figma, Protopie)
- ë””ìžì¸ ì‹œìŠ¤í…œ êµ¬ì¶• ë° ê´€ë¦¬
- ê¸°íšìž, ê°œë°œìžì™€ì˜ ê¸´ë°€í•œ í˜‘ì—…

[ìžê²© ìš”ê±´]
- UI/UX ë””ìžì¸ ì‹¤ë¬´ ê²½ë ¥ 5ë…„ ì´ìƒ (ë˜ëŠ” ê·¸ì— ì¤€í•˜ëŠ” ì—­ëŸ‰)
- Figma, Sketch ë“± ë””ìžì¸ íˆ´ í™œìš© ëŠ¥ë ¥ ìµœìƒ
- ë…¼ë¦¬ì ì¸ ë””ìžì¸ ì„¤ê³„ ë° ê·¼ê±° ì œì‹œ ëŠ¥ë ¥
- í¬íŠ¸í´ë¦¬ì˜¤ ì œì¶œ í•„ìˆ˜

[ìš°ëŒ€ ì‚¬í•­]
- ë””ìžì¸ ì‹œìŠ¤í…œ êµ¬ì¶• ë° ìš´ì˜ ê²½í—˜
- ê°œë°œ í”„ë¡œì„¸ìŠ¤ì— ëŒ€í•œ ë†’ì€ ì´í•´ë„
- ì¸í„°ëž™ì…˜ ë””ìžì¸ ê²½í—˜
- ì‚¬ìš©ìž ë°ì´í„° ë¶„ì„ ë° í™œìš© ê²½í—˜`,
            benefits: `[ë³µë¦¬í›„ìƒ]
- ì£¼ 1íšŒ ìž¬íƒê·¼ë¬´ ì‹œí–‰
- ìµœê³  ì‚¬ì–‘ ë””ìžì¸ ìž¥ë¹„ ì§€ì› (ë§¥ë¶ í”„ë¡œ, 4K ëª¨ë‹ˆí„°)
- ë””ìžì¸ ê´€ë ¨ ìœ ë£Œ êµ¬ë… ì„œë¹„ìŠ¤ ì§€ì› (Adobe CC, Zeplin ë“±)
- ìžìœ¨ ë³µìž¥ ë° ìœ ì—°í•œ ì¶œí‡´ê·¼
- ì ì‹¬ ì‹ëŒ€ ë° ì•¼ê·¼ ì‹œ ì €ë…/êµí†µë¹„ ì§€ì›
- ì²´ë ¥ë‹¨ë ¨ë¹„ ì§€ì›`,
            status: 'draft',
        },
    });

  console.log('âœ… Created job postings:', {
    jobPosting1: jobPosting1.title,
    jobPosting2: jobPosting2.title,
    jobPosting3: jobPosting3.title,
    jobPosting4: jobPosting4.title,
  });

  console.log('ðŸŽ‰ Seed completed successfully!');
  console.log('\nðŸ“ Test Accounts:');
  console.log('1. Email: test@example.com');
  console.log('   Password: Test1234!');
  console.log('   Phone: 01012345678');
  console.log('\n2. Email: demo@jobmoa.com');
  console.log('   Password: Test1234!');
  console.log('   Phone: 01087654321');
}

main()
  .catch((e) => {
    console.error('âŒ Seed failed:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
